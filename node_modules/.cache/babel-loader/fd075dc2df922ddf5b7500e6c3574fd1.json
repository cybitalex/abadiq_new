{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Elements}from'@stripe/react-stripe-js';import{loadStripe}from'@stripe/stripe-js';import{Form,Col,Row,Toast}from'react-bootstrap';import'./Book.css';import axios from'axios';import ifoIcon from\"../../../../Assets/info.svg\";import Checkout from'./Checkout';import{SET_SELECTED_SERVICE,useAppContext}from'../../../../context';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Book=()=>{const{state:{selectedService},dispatch}=useAppContext();const[services,setServices]=useState([]);const[show,setShow]=useState(true);useEffect(()=>{axios.get(\"https://immense-river-40491.herokuapp.com/services\").then(res=>{setServices(res.data);if(!selectedService.name){dispatch({type:SET_SELECTED_SERVICE,payload:res.data[0]});}});},[selectedService.name,dispatch]);const handleSelection=e=>{const getService=services.find(_ref=>{let{name}=_ref;return e.target.value===name;});dispatch({type:SET_SELECTED_SERVICE,payload:getService});};const stripePromise=loadStripe('pk_test_51Ii2KaCKKXM4eFaOJWCOr8pS4GVkoCerGCRHefo7hDpLYMcjpGqPNpoeydvFApWXDSSMnfXNzdtwRcF1o8XmTk3H00xDH8wKZc');setTimeout(()=>{setShow(false);},7000);return/*#__PURE__*/_jsxs(\"div\",{className:\"bookForm\",children:[/*#__PURE__*/_jsxs(Toast,{show:show,onClose:()=>setShow(!show),className:\"bookToast\",children:[/*#__PURE__*/_jsxs(Toast.Header,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(ifoIcon),className:\"rounded mr-2 toastIcon\",alt:\"\"}),/*#__PURE__*/_jsx(\"strong\",{className:\"mr-auto\",children:\"Info\"}),/*#__PURE__*/_jsx(\"small\",{children:\" 02 seconds ago\"})]}),/*#__PURE__*/_jsx(Toast.Body,{children:\"4242 4242 4242 4242 you can use this card number for testing \"})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:6,xs:12,className:\"my-3\",children:[/*#__PURE__*/_jsx(Form.Label,{style:{fontWeight:\"bold\"},children:\"Service\"}),/*#__PURE__*/_jsxs(\"select\",{class:\"form-select\",onChange:handleSelection,children:[selectedService.name&&/*#__PURE__*/_jsx(\"option\",{className:\"activeService\",value:selectedService.name,children:selectedService.name}),services===null||services===void 0?void 0:services.map(_ref2=>{let{id,name}=_ref2;return/*#__PURE__*/_jsx(\"option\",{value:name,children:name},id);})]})]}),/*#__PURE__*/_jsxs(Col,{md:6,xs:12,className:\"my-3\",children:[/*#__PURE__*/_jsx(Form.Label,{style:{fontWeight:\"bold\"},children:\"Price\"}),/*#__PURE__*/_jsx(\"div\",{className:\"priceInput\",children:selectedService.price})]})]}),/*#__PURE__*/_jsx(Elements,{stripe:stripePromise,children:/*#__PURE__*/_jsx(Checkout,{})})]});};export default Book;","map":{"version":3,"names":["React","useEffect","useState","Elements","loadStripe","Form","Col","Row","Toast","axios","ifoIcon","Checkout","SET_SELECTED_SERVICE","useAppContext","jsx","_jsx","jsxs","_jsxs","Book","state","selectedService","dispatch","services","setServices","show","setShow","get","then","res","data","name","type","payload","handleSelection","e","getService","find","_ref","target","value","stripePromise","setTimeout","className","children","onClose","Header","src","concat","alt","Body","md","xs","Label","style","fontWeight","class","onChange","map","_ref2","id","price","stripe"],"sources":["/Users/alexmoran/Documents/programming/abadiq_new_page/src/component/Dashoboard/UserDashboard/Book/Book.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nimport { Form, Col, Row, Toast } from 'react-bootstrap';\nimport './Book.css'\nimport axios from 'axios';\nimport ifoIcon from '../../../../Assets/info.svg';\nimport Checkout from './Checkout';\nimport { SET_SELECTED_SERVICE, useAppContext } from '../../../../context';\n\nconst Book = () => {\n    const { state: { selectedService }, dispatch} = useAppContext()\n    const [services, setServices] = useState([]);\n    const [show, setShow] = useState(true);\n\n    useEffect(() => {\n        axios.get(`https://immense-river-40491.herokuapp.com/services`)\n        .then(res => {\n            setServices(res.data)\n            if(!selectedService.name){\n                dispatch({type: SET_SELECTED_SERVICE, payload: res.data[0]})\n            }\n        })\n    }, [selectedService.name, dispatch])\n\n    const handleSelection = e => {\n        const getService = services.find(({name}) => e.target.value === name)\n        dispatch({type: SET_SELECTED_SERVICE, payload: getService})\n    }\n\n    const stripePromise = loadStripe('pk_test_51Ii2KaCKKXM4eFaOJWCOr8pS4GVkoCerGCRHefo7hDpLYMcjpGqPNpoeydvFApWXDSSMnfXNzdtwRcF1o8XmTk3H00xDH8wKZc');\n    setTimeout(() => {\n        setShow(false);\n    }, 7000)\n\n    return (\n        <div className=\"bookForm\">\n            <Toast show={show} onClose={() => setShow(!show)} className=\"bookToast\">\n                <Toast.Header>\n                    <img src={`${ifoIcon}`} className=\"rounded mr-2 toastIcon\" alt=\"\"/>\n                    <strong className=\"mr-auto\">Info</strong>\n                    <small> 02 seconds ago</small>\n                </Toast.Header>\n                <Toast.Body>4242 4242 4242 4242 you can use this card number for testing </Toast.Body>\n            </Toast>\n            <Row>\n                <Col md={6} xs={12} className=\"my-3\">\n                    <Form.Label style={{ fontWeight: \"bold\" }}>Service</Form.Label>\n                    <select class=\"form-select\" onChange={handleSelection}>\n                        {selectedService.name && \n                             <option className=\"activeService\" value={selectedService.name}>{selectedService.name}</option> \n                         } \n                        { \n                         services?.map(({id, name}) => <option key={id} value={name}>{name}</option>) \n                        }\n                    </select>\n                </Col>\n                <Col md={6} xs={12} className=\"my-3\">\n                        <Form.Label style={{ fontWeight: \"bold\" }}>Price</Form.Label>\n                        <div className=\"priceInput\">\n                         {selectedService.price}\n                            </div>\n                </Col>\n            </Row>\n\n            <Elements stripe={stripePromise}>\n                <Checkout/>\n            </Elements>\n        </div>\n    );\n};\n\nexport default Book;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}