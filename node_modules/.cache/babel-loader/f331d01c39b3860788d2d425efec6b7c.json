{"ast":null,"code":"var _jsxFileName = \"/Users/alexmoran/Documents/programming/abadiq_new_page/src/component/Dashoboard/UserDashboard/BookList/BookList.jsx\",\n  _s = $RefreshSig$();\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport axios from 'axios';\nimport { Button } from 'react-bootstrap';\nimport React, { useEffect, useState } from 'react';\nimport toast from 'react-hot-toast';\nimport swal from 'sweetalert';\nimport './BookList.css';\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport ListSkeleton from '../../../Shared/TableOrder/ListSkeleton';\nimport { useAppContext } from '../../../../context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookList = () => {\n  _s();\n  const {\n    state: {\n      user\n    }\n  } = useAppContext();\n  const [bookings, setBookings] = useState([]);\n  const [isUpdated, setIsUpdated] = useState(false);\n  useEffect(() => {\n    axios.get(`https://immense-river-40491.herokuapp.com/bookingList?email=${user.email}`).then(res => setBookings(res.data));\n  }, [user.email, isUpdated]);\n  const handleDelete = (id, status) => {\n    setIsUpdated(false);\n    swal({\n      title: `${status === 'Done' ? \"Remove\" : \"Cancel\"} Booking?`,\n      text: `Are you sure! you want to ${status === 'Done' ? \"remove booking from your booking List\" : \"cancel\"}?`,\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(wantDelete => {\n      if (wantDelete) {\n        const loading = toast.loading('deleting...Please wait!');\n        axios.delete(`https://immense-river-40491.herokuapp.com/deleteOrder/${id}`).then(res => {\n          toast.dismiss(loading);\n          if (res) {\n            setIsUpdated(true);\n            toast.success('Your Booking is successfully canceled!');\n          } else {\n            toast.error('Something went wrong, please try again');\n          }\n        }).catch(err => {\n          toast.dismiss(loading);\n          swal({\n            title: \"Failed!\",\n            text: 'Something went wrong, please try again',\n            icon: \"error\"\n          });\n        });\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [bookings.length === 0 && /*#__PURE__*/_jsxDEV(ListSkeleton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 39\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row px-3\",\n      children: bookings.map(({\n        _id,\n        serviceName,\n        status,\n        description,\n        img\n      }) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookingList\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: img,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"serviceState\",\n                  style: {\n                    color: '#fff',\n                    background: status === 'Pending' ? 'rgb(255 78 96)' : status === 'On going' ? 'rgb(73 146 255)' : 'rgb(31 204 123)'\n                  },\n                  children: status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: serviceName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-danger\",\n              onClick: () => handleDelete(_id, status),\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faTimesCircle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 37\n              }, this), status === 'Done' ? 'Remove' : 'Cancel']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 29\n          }, this)\n        }, _id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 32\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(BookList, \"UYko1XYj0xwBmgkue/eGwFJJ0Ls=\", false, function () {\n  return [useAppContext];\n});\n_c = BookList;\nexport default BookList;\nvar _c;\n$RefreshReg$(_c, \"BookList\");","map":{"version":3,"names":["FontAwesomeIcon","axios","Button","React","useEffect","useState","toast","swal","faTimesCircle","ListSkeleton","useAppContext","jsxDEV","_jsxDEV","BookList","_s","state","user","bookings","setBookings","isUpdated","setIsUpdated","get","email","then","res","data","handleDelete","id","status","title","text","icon","buttons","dangerMode","wantDelete","loading","delete","dismiss","success","error","catch","err","children","length","fileName","_jsxFileName","lineNumber","columnNumber","className","map","_id","serviceName","description","img","src","alt","style","color","background","variant","onClick","_c","$RefreshReg$"],"sources":["/Users/alexmoran/Documents/programming/abadiq_new_page/src/component/Dashoboard/UserDashboard/BookList/BookList.jsx"],"sourcesContent":["import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport axios from 'axios';\nimport { Button } from 'react-bootstrap';\nimport React, { useEffect, useState } from 'react';\nimport toast from 'react-hot-toast';\nimport swal from 'sweetalert';\nimport './BookList.css'\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport ListSkeleton from '../../../Shared/TableOrder/ListSkeleton';\nimport { useAppContext } from '../../../../context';\n\nconst BookList = () => {\n    const { state:{user} } =useAppContext();\n    const [bookings, setBookings] = useState([]);\n    const [isUpdated, setIsUpdated] = useState(false);\n\n    useEffect(() => {\n        axios.get(`https://immense-river-40491.herokuapp.com/bookingList?email=${user.email}`)\n        .then(res => setBookings(res.data))\n    },[user.email, isUpdated])\n\n    const handleDelete = (id, status) => {\n        setIsUpdated(false)\n        swal({\n            title: `${status === 'Done' ? \"Remove\" : \"Cancel\"} Booking?`,\n            text: `Are you sure! you want to ${status === 'Done' ? \"remove booking from your booking List\" : \"cancel\"}?`,\n            icon: \"warning\",\n            buttons: true,\n            dangerMode: true,\n          })\n          .then( wantDelete => {\n            if (wantDelete) {\n                const loading = toast.loading('deleting...Please wait!')\n                axios.delete(`https://immense-river-40491.herokuapp.com/deleteOrder/${id}`)\n                .then(res => {\n                    toast.dismiss(loading)\n                    if(res){\n                        setIsUpdated(true);\n                        toast.success('Your Booking is successfully canceled!');\n                    }\n                    else{\n                        toast.error('Something went wrong, please try again');\n                    }\n                })\n                .catch(err => {\n                    toast.dismiss(loading)\n                    swal({\n                        title: \"Failed!\",\n                        text: 'Something went wrong, please try again',\n                        icon: \"error\",\n                      });\n                })\n            } \n          });\n    }\n    return (\n        <div>\n            {bookings.length === 0 && <ListSkeleton/>}\n            <div className=\"row px-3\">\n                {\n                    bookings.map(({_id, serviceName,status,description,img}) => {\n                        return(<div className=\"col-md-4\" key={_id}>\n                            <div className=\"bookingList\">\n                                <div className=\"d-flex justify-content-between\">\n                                    <img src={img} alt=\"\"/>\n                                    <div>\n                                        <p className=\"serviceState\" style={{color: '#fff', background: status === 'Pending' ? 'rgb(255 78 96)' : status === 'On going' ? 'rgb(73 146 255)' :'rgb(31 204 123)'}}>{status}</p>\n                                    </div>\n                                </div>\n                                <h6>{serviceName}</h6>\n                                <p>{description}</p>\n                                <Button variant=\"outline-danger\" onClick={() => handleDelete(_id, status)}> \n                                    <FontAwesomeIcon icon={faTimesCircle}/>\n                                     { status === 'Done' ? 'Remove':'Cancel'}\n                                </Button>\n                            </div>\n                        </div>)\n                    })\n                }\n            </div>\n        </div>\n    );\n};\n\nexport default BookList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}