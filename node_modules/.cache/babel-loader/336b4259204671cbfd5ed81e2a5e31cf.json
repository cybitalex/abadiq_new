{"ast":null,"code":"import axios from'axios';import React from'react';import{Col,Form,Row}from'react-bootstrap';import{useForm}from'react-hook-form';import toast from'react-hot-toast';import swal from'sweetalert';import{useAppContext}from'../../../context';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MakeAdmin=()=>{const{state:{user:{email}}}=useAppContext();const{register,handleSubmit,formState:{errors},reset}=useForm();const onSubmit=data=>{const loading=toast.loading('Please wait...');if(email===\"test@admin.com\"){toast.dismiss(loading);swal(\"Permission restriction!\",\"As a test admin, You haven't permission to add a new admin\",\"info\");}else{axios.post('https://immense-river-40491.herokuapp.com/addAdmin',{email:data.email}).then(res=>{toast.dismiss(loading);toast.success('One admin added successfully');reset();}).catch(err=>{toast.dismiss(loading);toast.error(err.message);});}};return/*#__PURE__*/_jsx(\"div\",{className:\"px-2\",children:/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit(onSubmit),className:\"makeAdmin\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{style:{fontWeight:\"bold\"},children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",...register(\"email\",{required:true}),placeholder:\"email\"}),errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"This field is required\"})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mainBtn adminBtn\",children:\"Submit\"})})]})})});};export default MakeAdmin;","map":{"version":3,"names":["axios","React","Col","Form","Row","useForm","toast","swal","useAppContext","jsx","_jsx","jsxs","_jsxs","MakeAdmin","state","user","email","register","handleSubmit","formState","errors","reset","onSubmit","data","loading","dismiss","post","then","res","success","catch","err","error","message","className","children","Group","Label","style","fontWeight","Control","type","required","placeholder"],"sources":["/Users/alexmoran/Documents/programming/abadiq_new_page/src/component/Dashoboard/MakeAdmin/MakeAdmin.jsx"],"sourcesContent":["import axios from 'axios';\nimport React from 'react';\nimport { Col, Form, Row } from 'react-bootstrap';\nimport { useForm } from 'react-hook-form';\nimport toast from 'react-hot-toast';\nimport swal from 'sweetalert';\nimport { useAppContext } from '../../../context';\n\nconst MakeAdmin = () => {\n    const { state:{ user: {email}}} = useAppContext()\n    const { register, handleSubmit, formState: { errors }, reset} = useForm();\n\n    const onSubmit = data => {\n        const loading = toast.loading('Please wait...')\n        if(email === \"test@admin.com\"){\n            toast.dismiss(loading)\n            swal(\"Permission restriction!\", \"As a test admin, You haven't permission to add a new admin\", \"info\");\n        } else {\n            axios.post('https://immense-river-40491.herokuapp.com/addAdmin',{email: data.email})\n            .then(res => {\n                toast.dismiss(loading)\n                toast.success('One admin added successfully')\n                reset();\n            })\n            .catch(err => {\n                toast.dismiss(loading)\n                toast.error(err.message)\n            })\n        }\n    };\n    return (\n        <div className=\"px-2\">\n            <Form onSubmit={handleSubmit(onSubmit)} className=\"makeAdmin\">\n                <Row>\n                    <Col>\n                        <Form.Group>\n                            <Form.Label style={{ fontWeight: \"bold\" }}>Email</Form.Label>\n                            <Form.Control\n                                type=\"text\"\n                                {...register(\"email\", { required: true })}\n                                placeholder=\"email\"\n                            />\n                            {errors.email && <span className=\"text-danger\">This field is required</span>}\n                        </Form.Group>\n                    </Col>\n                    <Col>\n                        <button type=\"submit\" className=\"mainBtn adminBtn\">Submit</button>\n                    </Col>\n                </Row>\n            </Form>\n        </div>\n    )\n};\n\nexport default MakeAdmin;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,GAAG,CAAEC,IAAI,CAAEC,GAAG,KAAQ,iBAAiB,CAChD,OAASC,OAAO,KAAQ,iBAAiB,CACzC,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,MAAO,CAAAC,IAAI,KAAM,YAAY,CAC7B,OAASC,aAAa,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAEC,KAAK,CAAC,CAAEC,IAAI,CAAE,CAACC,KAAK,CAAC,CAAC,CAAC,CAAGR,aAAa,CAAC,CAAC,CACjD,KAAM,CAAES,QAAQ,CAAEC,YAAY,CAAEC,SAAS,CAAE,CAAEC,MAAO,CAAC,CAAEC,KAAK,CAAC,CAAGhB,OAAO,CAAC,CAAC,CAEzE,KAAM,CAAAiB,QAAQ,CAAGC,IAAI,EAAI,CACrB,KAAM,CAAAC,OAAO,CAAGlB,KAAK,CAACkB,OAAO,CAAC,gBAAgB,CAAC,CAC/C,GAAGR,KAAK,GAAK,gBAAgB,CAAC,CAC1BV,KAAK,CAACmB,OAAO,CAACD,OAAO,CAAC,CACtBjB,IAAI,CAAC,yBAAyB,CAAE,4DAA4D,CAAE,MAAM,CAAC,CACzG,CAAC,IAAM,CACHP,KAAK,CAAC0B,IAAI,CAAC,oDAAoD,CAAC,CAACV,KAAK,CAAEO,IAAI,CAACP,KAAK,CAAC,CAAC,CACnFW,IAAI,CAACC,GAAG,EAAI,CACTtB,KAAK,CAACmB,OAAO,CAACD,OAAO,CAAC,CACtBlB,KAAK,CAACuB,OAAO,CAAC,8BAA8B,CAAC,CAC7CR,KAAK,CAAC,CAAC,CACX,CAAC,CAAC,CACDS,KAAK,CAACC,GAAG,EAAI,CACVzB,KAAK,CAACmB,OAAO,CAACD,OAAO,CAAC,CACtBlB,KAAK,CAAC0B,KAAK,CAACD,GAAG,CAACE,OAAO,CAAC,CAC5B,CAAC,CAAC,CACN,CACJ,CAAC,CACD,mBACIvB,IAAA,QAAKwB,SAAS,CAAC,MAAM,CAAAC,QAAA,cACjBzB,IAAA,CAACP,IAAI,EAACmB,QAAQ,CAAEJ,YAAY,CAACI,QAAQ,CAAE,CAACY,SAAS,CAAC,WAAW,CAAAC,QAAA,cACzDvB,KAAA,CAACR,GAAG,EAAA+B,QAAA,eACAzB,IAAA,CAACR,GAAG,EAAAiC,QAAA,cACAvB,KAAA,CAACT,IAAI,CAACiC,KAAK,EAAAD,QAAA,eACPzB,IAAA,CAACP,IAAI,CAACkC,KAAK,EAACC,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAJ,QAAA,CAAC,OAAK,CAAY,CAAC,cAC7DzB,IAAA,CAACP,IAAI,CAACqC,OAAO,EACTC,IAAI,CAAC,MAAM,IACPxB,QAAQ,CAAC,OAAO,CAAE,CAAEyB,QAAQ,CAAE,IAAK,CAAC,CAAC,CACzCC,WAAW,CAAC,OAAO,CACtB,CAAC,CACDvB,MAAM,CAACJ,KAAK,eAAIN,IAAA,SAAMwB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,wBAAsB,CAAM,CAAC,EACpE,CAAC,CACZ,CAAC,cACNzB,IAAA,CAACR,GAAG,EAAAiC,QAAA,cACAzB,IAAA,WAAQ+B,IAAI,CAAC,QAAQ,CAACP,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,CACjE,CAAC,EACL,CAAC,CACJ,CAAC,CACN,CAAC,CAEd,CAAC,CAED,cAAe,CAAAtB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module"}